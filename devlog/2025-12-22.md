# 2025-12-22 Interactive Assembler

Let's add an interactive assembler. Here is a sample session:

```
> .a 0200
0200? CLL CLA
0200: 7300
0201? TAD 0007
0201: 1007 TAD 0007
0202? IOT 6046
0202: 6046 IOT 6046
0203? HLT
0203: 7402 HLT
2024? q
>
```

Underscores show user input.

## Implementation Complete âœ“

Created a fully functional interactive assembler with the following features:

### Core Components
- **InteractiveAssembler.cs** - New class handling single-line assembly, symbol management, and memory tracking
- **Program.cs** - Integrated into main command loop (`.a` with no args starts interactive mode)

### Features Implemented
1. **Single-line assembly** - Parse and assemble PDP-8 instructions one at a time
2. **Immediate feedback** - Shows octal code and disassembly after each instruction
3. **Symbol table** - Define and reference labels during session
4. **Memory management** - Track assembled instructions, list contents
5. **Special commands**:
   - `.list` - Show assembled memory
   - `.symbols` or `=` - Display symbol table
   - `.load` - Transfer code to emulator memory
   - `.clear` - Reset session
   - Numeric input - Jump to address
   - `q`/`quit`/`exit` - Exit assembler

### Instruction Support
- Memory reference (AND, TAD, ISZ, DCA, JMS, JMP) with indirect addressing
- Operate Group 1 (CLA, CLL, CMA, CML, RAR, RAL, RTR, RTL, BSW, IAC)
- Operate Group 2 (SMA, SZA, SNL, SPA, SNA, SZL, OSR, HLT, ION, IOFF)
- IOT instructions (numeric device codes)
- Data constants (octal, hex with 0x, decimal with #)
- Character literals ("A")
- Label definitions and references

### Testing
Verified with test cases including:
- Basic instructions assembly
- Label definition and reference
- Special commands (.list, .symbols, .load)
- Error handling and recovery
- Address jumping
- Memory operations

### Documentation
Created comprehensive documentation in [docs/interactive-assembler.md](docs/interactive-assembler.md) with:
- Usage guide
- Command reference
- Example sessions
- Tips and best practices

The interactive assembler provides a REPL-style experience for learning PDP-8 assembly and quick code prototyping!